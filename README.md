# spring-gift-enhancement

## step 1 - 카테고리 추가

### 카테고리 엔티티 추가

- **카테고리 구현**
    - [x] 엔티티 추가 (속성 : `id`, `name`, `color`, `imageUrl`, `description`)
    - [x] Dto 생성
    - [x] 레포지토리 추가
    - [x] 서비스 추가
    - [x] 컨트롤러 추가

- **상품(Product) 수정**
    - [x] 엔티티 수정 (카테고리와의 관계 추가)
    - [x] 상품 서비스 수정

- **뷰 페이지 수정**
    - [x] 뷰 페이지에서 카테고리를 설정할 수 있도록 함

- [x] **테스트 작성**

## step 2 - 옵션 추가

### 옵션 추가
- **옵션 구현**
  - [ ] 엔티티 추가 (속성 : `id`, `name`)
  - [ ] 옵션 생성 시 검증 로직 추가 (옵션 이름의 특수 문자 허용 범위 및 길이 검증)
  - [ ] Dto, 레포지토리, 서비스, 컨트롤러 추가 (기본적인 CRUD 기능)
  - [ ] 테스트코드 추가


### 상품-옵션 추가
- **상품-옵션 구현**
  - [ ] 엔티티 추가 (속성 : `id`, `product`, `option`, `quantity`)
  - [ ] 동일 상품 내 옵션 이름 중복 방지 로직 추가
  - [ ] Dto, 레포지토리, 서비스, 컨트롤러 추가 (기본적인 CRUD 기능)
  - [ ] ProductOption 엔티티와 Product 엔티티 연결 (다대일)
  - [ ] ProductOption 엔티티와 Option 엔티티 연결 (다대일)
  - [ ] 테스트코드 추가

### 추가적으로
- [ ] **뷰 페이지에서 옵션을 설정할 수 있도록 함**

## step 3,4 - 상품 옵션 수량 감소 (동시성 고려)

### 수량 감소
- **수량 감소 구현**
  - [ ] 엔티티에 감소 메소드 추가
  - [ ] 서비스에 감소 메소드 추가
  
- **동시성 문제 고려**
  - [ ] `Optimistic Lock` 을 이용하여 동시성 문제 방지

### 테스트
- **수량 감소 테스트**
  - [ ] 수량 감소 성공 테스트
  - [ ] 수량 감소 실패 - 수량부족 테스트
  - [ ] 수량 감소 실패 - 음수요청 테스트
  - [ ] **동시성 테스트**
  
- **엔티티 단위테스트 작성**
  - [ ] 모든 엔티티에 대해 엔티티 단위테스트 작성
